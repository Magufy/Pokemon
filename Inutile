import random
from random import choice
import copy
import tkinter as tk
from tkinter import Label
from tkinter import PhotoImage
import os

class Pokemon():
    def __init__(self,nom,type,pv,vitesse,res,res2,faib,faib2,immu,attaque,defense,attspe,defspe,comp):
        self.nom = nom
        self.type = type
        self.pv = pv
        self.vitesse = vitesse
        self.res = res
        self.res2 = res2
        self.immu = immu
        self.faib = faib
        self.faib2 = faib2     
        self.attaque = attaque
        self.defense = defense
        self.attspe = attspe
        self.defspe = defspe
        self.comp = comp
        self.statut = []
        self.buffs = []
        self.cant_attack = False


    def __str__(self):
        return (f"Pok√©mon: {self.nom}\n"
                f"Type(s): {self.type}, {self.faib} (Faiblesses), {self.res} (R√©sistances)\n"
                f"PV: {self.pv}\n"
                f"Vitesse: {self.vitesse}\n"
                f"Attaque: {self.attaque} | D√©fense: {self.defense}\n"
                f"Attaque Sp√©ciale: {self.attspe} | D√©fense Sp√©ciale: {self.defspe}\n"
                f"Comp√©tences: {', '.join([c.nom for c in self.comp])}")

    def apply_statut(self):
        import random
        if "Poison" in self.statut:
            self.pv -= max(1, self.pv // 8)
            print(f"{self.nom} subit des d√©g√¢ts de Poison ! PV restant : {self.pv}")
            if random.randint(1, 100) <= 10: 
                self.statut.remove("Poison")
                print(f"{self.nom} n'est plus empoisonn√© !")

        if "Burn" in self.statut:
            self.pv -= max(1, self.pv // 16)
            print(f"{self.nom} subit des d√©g√¢ts de Br√ªlure ! PV restant : {self.pv}")
            if random.randint(1, 100) <= 10:
                self.statut.remove("Burn")
                print(f"{self.nom} n'est plus br√ªl√© !")

        if "Gel" in self.statut:
            if random.randint(1, 100) <= 25:
                self.statut.remove("Gel")
                print(f"{self.nom} n'est plus Gel√© !")
                self.cant_attack=False
            else:
                print(f"{self.nom} est gel√© et ne peut pas attaquer !")
                self.cant_attack=True

        if "Comptine" in self.statut:
            if random.randint(1, 100) <= 25:
                self.statut.remove("Comptine")
                print(f"{self.nom} n'est plus endormi !")
                self.cant_attack=False
            else:
                print(f"{self.nom} est endormi et ne peut pas attaquer !")
                self.cant_attack=True

        if "Paralysie" in self.statut:
            if random.randint(1, 100) <= 20:
                self.statut.remove("Paralysie")
                print(f"{self.nom} n'est plus paralys√© !")
                self.cant_attack=False
            else:
                print(f"{self.nom} est paralys√©, sa vitesse est r√©duite et il risque de ne pas attaquer !")
                self.cant_attack=True
        #buff
        if "defense" in self.buffs:
            self.defense *= 1.5

        if "attspe" in self.buffs:
            self.attspe *= 2

        if "defense+defspe" in self.buffs:
            self.defense *= 1.25
            self.defspe *= 1.25

        if "rage" in self.buffs:
            self.attaque *= 2
            self.defense /= 2


class Attaque():
    def __init__(self,nom,type,statut,special,haut_crit,puissance,proba,precision,prio,PP,buff=None):
        self.nom=nom
        self.type=type
        self.statut=statut
        self.special=special
        self.haut_crit=haut_crit
        self.puissance=puissance
        self.proba=proba
        self.precision=precision
        self.prio=prio
        self.PP=PP
        self.buff=buff

class Degats:
    def __init__(self,poke_att,poke_def,attaque):
        self.poke_att=poke_att
        self.poke_def=poke_def
        self.attaque=attaque

    def degats(self):#rajouter les priorit√©s
        vitesse=self.poke_att.vitesse
        if "Paralysie" in self.poke_att.statut:  
            vitesse = vitesse / 4 
            if random.randint(1, 100) <= 75:
                print(f"{self.poke_att.nom} est paralys√© il ne peut pas attaquer !")
                return 0
        if "Comptine" in self.poke_att.statut:   
            if random.randint(1,100) <= 100:
                print(f"{self.poke_att.nom} est endormi il ne pourra pas attaquer !")
                return 0
        if "Gel" in self.poke_att.statut:   
            if random.randint(1,100) <= 100:
                print(f"{self.poke_att.nom} est gel√© il ne pourra pas attaquer !")
                return 0
        if self.attaque.puissance == 0:
            return 0
        if self.attaque.type in self.poke_def.immu:
            return 0
        
        Att = self.poke_att.attaque if self.attaque.special == False else self.poke_att.attspe
        Def = self.poke_def.defense if self.attaque.special == False else self.poke_def.defspe
        Pui = self.attaque.puissance
        STAB=1.5 if self.attaque.type in self.poke_att.type else 1
        
        if self.attaque.type in self.poke_def.faib2:
            Type=4
        elif self.attaque.type in self.poke_def.faib:
            Type=2 
        elif self.attaque.type in self.poke_def.res:
            Type=0.5 
        elif self.attaque.type in self.poke_def.res2:
            Type=0.25 
        else :
            Type=1
        
        T=int(vitesse/2)
        if self.attaque.haut_crit==True:
            T=T*8
        if T>255:
            T=255

        if random.randint(0,255)<T :
            Crit= 1.4 
        else:
            Crit= 1
        
        Obj=1  #pass

        CM = STAB * Type * Crit * Obj * random.uniform(0.85,1) # + mod de terrain
        Compensateur_Niveaux = 4
        Degats=((((Att*Pui)/Def)/50)+2)*CM*Compensateur_Niveaux

        #Vol de Vie,Protection
        #Les pokemon perdent de la vie en attaquant ( malediction , destruction,une autre)
        #PP
        
        if self.attaque.statut != False:
            if self.attaque.statut in ("Poison","Burn","Gel","Paralysie","Comptine") :
                if random.randint(1,100) <= self.attaque.proba:
                    self.poke_def.statut.append(self.attaque.statut)
        if self.attaque.buff != None:
             if random.randint(1,100) <= self.attaque.proba:
                self.poke_att.buffs.append(self.attaque.buff)

        return int(Degats)


class Bot:
    def __init__(self,pokemons_dispo):
        self.equipe_bot=[]
        for i in range (6) :
            self.equipe_bot.append(copy.deepcopy(choice(pokemons_dispo)))
        self.poke_front_bot=self.equipe_bot[0]
        self.equipe_bot.remove(self.poke_front_bot)

    def choix_pokemon_bot(self):
        if self.equipe_bot:
            self.poke_front_bot = random.choice(self.equipe_bot)
        else:
            self.poke_front_bot = None

class Objet:
    def __init__(self, nom, equipe, equipe_adv, poke, poke_adv, nombre):
        self.nom = nom
        self.equipe = equipe
        self.equipe_adv = equipe_adv
        self.poke = poke
        self.poke_adv = poke_adv
        self.nombre = nombre

    def use(self):
        if self.nom not in ("Injection5G", "Glock", "Roulette Russe", "Gambling Time", "Produits Dopants", "Eau", "Calmants Pour Ours", "Repos Long"):
            return
        if self.nombre < 1:
            print("Vous n'avez plus cet objet")
            return
        else:
            if self.nom == "Injection5G":
                self.poke.statut = []
                print('ILS NOUS CONTROLENT (votre pokemon perd tout ses effets)')
            elif self.nom == "Glock":
                self.poke_adv.pv = 0
                print("Rapide et Efficace (le pokemon adverse n'a pas survecu a cette balle)")
            elif self.nom == "Roulette Russe":
                a = random.randint(1, 2)
                if a == 1:
                    self.poke.pv = 0
                    print("—Ç–µ–±–µ –Ω–µ –ø–æ–≤–µ–∑–ª–æ")
                else:
                    self.poke_adv.pv = 0
                    print("—Ç–µ–±–µ –ø–æ–≤–µ–∑–ª–æ")

            elif self.nom == "Gambling Time":
                i = random.randint(-20,20)
                self.poke.pv+=i  
                if i>=0:             
                    print(f"Votre pokemon gagne {i}pv")
                else :
                    print(f"Votre pokemon perd {-i} pv")
            elif self.nom == "Produits Dopants":
                self.poke.pv += 20
                self.poke.attaque += 10
                self.poke.attspe += 20
                print(f"+20pv, +10att, +10att sp√©, c'est l√©gal √ßa?     vous avez maintenant {self.poke.pv}pv")
            elif self.nom == "Eau":
                print("Votre pokemon est hydrat√©, c'est super mais a quoi ca sert ?")
                # rien
            elif self.nom == "Calmants Pour Ours":
                if "Comptine" not in self.poke_adv.statut:
                    self.poke_adv.statut.append("Comptine")
                print("Votre pokepmon est boooriiiing, le pokemon adverse fait dodo")
            elif self.nom == "Repos Long":
                for i in self.poke.comp:
                    i.PP += 10
                self.poke.pv += 20
                if "Comptine" not in self.poke.statut:
                    self.poke.statut.append("Comptine")
                print(f"Mimimimimimimimimi (vous dermez et recuperez 10PP et 20pv et vous avez {self.poke.pv}pv)")


class Battle:
    def __init__(self,pokemons_dispo):
        self.equipe=[]
        self.poke_front=None
        self.robot= Bot(pokemons_dispo)
        self.run=True
        self.root = tk.Tk()
        self.root.title("Combat Pok√©mon")


        # dictionnaire de correspondance nom ‚Üí fichier
        noms_fichiers = {
            "Scovillain üî•üå±  ": "scovillain.png",
            "Sorbouboul ‚ùÑÔ∏è  ": "sorbouboul.png",
            "Kravarech üê≤üíß  ": "kravarech.png",
            "Farigiraf üß†üîò  ": "farigiraf.png",
            "Pelage-Sabl√© üü´‚ö°  ": "pelagesable.png",
            "Galvagon üê≤‚ö°": "galvagon.png",
            "Virevorreur üå±üëª  ": "virevorreur.png",
            "Pomdorochi üê≤üå±  ": "pomdorochi.png",
            "Sylveroy üß†üå±  ": "sylveroy.png",
            "Amov√©nus ü¶ãü™∂  ": "amovenus.png",
            "Pondralugon üî©üê≤  ": "pondralugon.png",
            "Saquedeneu üå±  ": "saquedeneu.png",
            "Chartor üî•  ": "chartor.png",
            "Pierroteknik üî•üëª  ": "pierroteknik.png",
            "Mite-de-Fer üî•ü´ê  ": "mitedefer.png",
            "Balbal√®ze ‚ùÑÔ∏è  ": "balbaleze.png",
            "Ire-Foudre ‚ö°  ": "irefoudre.png",
            "B√©kagla√ßon ‚ùÑÔ∏è  ": "bekaglacon.png",
            "P√©chaminus ü´êüëª  ": "pechaminus.png",
            "Tomberro üëª  ": "tomberro.png",
            "FerDeTer üî©  ": "ferdeter.png",
            "Hydragla üíß  ": "hydragla.png",
            "Tut√©t√©kri üü´üëª  ": "tutetekri.png",
        }

        self.canvas = tk.Frame(self.root, bg="black")
        self.canvas.pack(fill="both", expand=True)

        self.images = {}
        dossier_images = "C:\\JEU\\images_pokemon"

        # Chargement dynamique des images
        for poke in pokemons_dispo:
            fichier = noms_fichiers.get(poke.nom)
            if fichier:
                try:
                    chemin = os.path.join(dossier_images, fichier)
                    self.images[poke.nom] = PhotoImage(file=chemin)
                    print(f"Image {poke.nom} charg√©e :", chemin)
                except Exception as e:
                    print(f"Erreur chargement image {poke.nom} :", e)
                    self.images[poke.nom] = None
            else:
                self.images[poke.nom] = None

        # Labels pour afficher les Pok√©mon
        self.label_poke_joueur = Label(self.canvas, text="", font=("Arial", 14), fg="green", bg="black")
        self.label_vs = Label(self.canvas, text=" VS ", font=("Arial", 20, "bold"), fg="red", bg="black")
        self.label_poke_bot = Label(self.canvas, text="", font=("Arial", 14), fg="blue", bg="black")

        self.label_poke_joueur.grid(row=0, column=0, padx=30, pady=20)
        self.label_vs.grid(row=0, column=1, padx=30, pady=20)
        self.label_poke_bot.grid(row=0, column=2, padx=30, pady=20)

        self.label_img_joueur = Label(self.canvas, bg="black")
        self.label_img_joueur.grid(row=1, column=0, padx=30, pady=10)

        self.label_img_bot = Label(self.canvas, bg="black")
        self.label_img_bot.grid(row=1, column=2, padx=30, pady=10)
        

    def update_gui(self):
        if self.poke_front:
            self.label_poke_joueur.config(text=f"{self.poke_front.nom}\nPV: {self.poke_front.pv}")
            if self.images.get(self.poke_front.nom):
                self.label_img_joueur.config(image=self.images[self.poke_front.nom])
                self.label_img_joueur.image = self.images[self.poke_front.nom]  # obligatoire pour Tkinter
        if self.robot.poke_front_bot:
            self.label_poke_bot.config(text=f"{self.robot.poke_front_bot.nom}\nPV: {self.robot.poke_front_bot.pv}")
            if self.images.get(self.robot.poke_front_bot.nom):
                self.label_img_bot.config(image=self.images[self.robot.poke_front_bot.nom])
                self.label_img_bot.image = self.images[self.robot.poke_front_bot.nom]
        self.root.update_idletasks()
    def cree_equipe(self,pokemons_dispo):
        while len(self.equipe)<6:
            for i, poke in enumerate(pokemons_dispo, start=1):
                print(f"{i}) {poke.nom}")
            poke_num=int(input(f"choisissez vos pokemons :"))

            if poke_num in range (1,len(pokemons_dispo)+1):
                self.equipe.append(copy.deepcopy(pokemons_dispo[poke_num-1]))
                print(f'{pokemons_dispo[poke_num-1].nom} ajout√©')
            else:
                print('pokemon non disponible')
            
    def choix_pokemon(self):
        while self.poke_front==None:
            poke=int(input(
                f"choisissez un pokemon a envoyer au combat{[i.nom for i in self.equipe]}"))
            if poke in range (1,len(self.equipe)+1):
                self.poke_front=self.equipe[poke-1]
                self.equipe.remove(self.equipe[poke-1])

    def mort_poke_front(self):
        if self.poke_front.pv<=0 : 
            self.poke_front=None
            self.choix_pokemon()
    def executer_attaque(self, attaquant, defenseur, attaque):
        self.update_gui()
        self.root.update()
        if attaque.puissance == 0:
            self.update_gui()
            self.root.update()
            # buff
            if attaque.buff:
                attaquant.buffs.append(attaque.buff)
                if attaque.buff == "defense":
                    print( 
                        f"{attaquant.nom} utilise {attaque.nom} ! Sa D√©fense augmente fortement !")

                elif attaque.buff == "attspe":
                    print( 
                        f"{attaquant.nom} utilise {attaque.nom} ! Son Attaque Sp√©ciale augmente fortement !")
                elif attaque.buff == "defense+defspe":
                    print(
                        f"{attaquant.nom} utilise {attaque.nom} ! Sa D√©fense et D√©fense Sp√©ciale augmentent !")
                elif attaque.buff == "rage":
                    print(
                        f"{attaquant.nom} est pris de rage ! Son Attaque augmente √©norm√©ment mais sa D√©fense baisse !")
            # statut
            elif attaque.statut:
                defenseur.statut.append(attaque.statut)
                print(
                    f"{attaquant.nom} utilise {attaque.nom} ! {defenseur.nom} est affect√© par {attaque.statut} !")
                self.update_gui()
                self.root.update()
        else:
            # attaquedebase
            deg = Degats(attaquant, defenseur, attaque).degats()
            
            if deg != 0:   
                defenseur.pv -= deg
                print(f"{attaquant.nom} utilise {attaque.nom} ! D√©g√¢ts inflig√©s : {deg}")
                self.update_gui()
                self.root.update()
            

            self.update_gui()
            self.root.update()

    def tour(self):
        self.mort_poke_front()

        if self.poke_front:
            self.poke_front.apply_statut()
        if self.robot.poke_front_bot:
            self.robot.poke_front_bot.apply_statut()

        if not hasattr(self, 'bot_sent'):
            print(f"\nLe bot envoie {self.robot.poke_front_bot.nom} !")
            self.bot_sent = True  
        action = None
        while action is None:
            action = input("Choisissez une action : 1) Attaquer , 2) Objet , 3) Changer , 4) Capituler : ")
            
            if action == '1':
                choix=None
                while choix==None:
                    choix = input(f"Choisissez une attaque : "
                                    f"1) {self.poke_front.comp[0].nom} | "
                                    f"2) {self.poke_front.comp[1].nom} | "
                                    f"3) {self.poke_front.comp[2].nom} | "
                                    f"4) {self.poke_front.comp[3].nom} : ")
                    
                    if choix not in (str(a)for a in range(1,len(self.poke_front.comp)+1)):
                        choix=None
                        print("Entrez un chiffre entre 1 et 4")

                    else:
                        if self.poke_front.cant_attack==False:
                            attaque_joueur = self.poke_front.comp[int(choix)-1]
                        else:
                            print("Vous ne pouvez pas")


                        if self.robot.poke_front_bot and self.robot.poke_front_bot.pv > 0 and self.robot.poke_front_bot.cant_attack==False :
                            attaque_bot = choice(self.robot.poke_front_bot.comp)


                        if self.poke_front.vitesse >= (self.robot.poke_front_bot.vitesse if self.robot.poke_front_bot else 0):
                            self.executer_attaque(self.poke_front, self.robot.poke_front_bot, attaque_joueur)

                            if self.robot.poke_front_bot and self.robot.poke_front_bot.pv > 0 and self.robot.poke_front_bot.cant_attack==False:
                                print(f"Bot : {self.robot.poke_front_bot.nom}, utilise {attaque_bot.nom} !")
                                self.executer_attaque(self.robot.poke_front_bot, self.poke_front, attaque_bot)

                        else:
                            if self.robot.poke_front_bot and self.robot.poke_front_bot.pv > 0 and self.robot.poke_front_bot.cant_attack==False:
                                print(f"Bot : {self.robot.poke_front_bot.nom}, utilise {attaque_bot.nom} !")
                                self.executer_attaque(self.robot.poke_front_bot, self.poke_front, attaque_bot)

                            if self.poke_front.pv > 0:
                                self.executer_attaque(self.poke_front, self.robot.poke_front_bot, attaque_joueur)

            elif action == '2': 
                objet_util=None
                while objet_util==None:
                    objet_util=input(f"""Choisissez un objet : 
                                  1) {self.objets[0].nom} : {self.objets[0].nombre}
                                  2) {self.objets[1].nom} : {self.objets[1].nombre}
                                  3) {self.objets[2].nom} : {self.objets[2].nombre}
                                  4) {self.objets[3].nom} : {self.objets[3].nombre}
                                  5) {self.objets[4].nom} : {self.objets[4].nombre}
                                  6) {self.objets[5].nom} : {self.objets[5].nombre}
                                  7) {self.objets[6].nom} : {self.objets[6].nombre}
                                  8) {self.objets[7].nom} : {self.objets[7].nombre} """)
                    
                    if objet_util not in (str(a)for a in range(1,len(self.objets)+1)):
                        objet_util=None
                        print("Entrez un chiffre entre 1 et 8")

                    else:
                        self.objets[int(objet_util)-1].use()
                        return


            elif action == '3': 
                poke_change=None
                while poke_change==None:
                    poke_change = input(f"Choisissez un Pok√©mon : {[i.nom for i in self.equipe]} : ")

                    if objet_util not in (str(a)for a in range(1,len(self.equipe))):
                        print(f"Entrez un chiffre entre 1 et {len(self.equipe)}")
                        poke_change=None
                    else:
                        self.equipe.append(self.poke_front)
                        self.poke_front = self.equipe[poke_change-1]
                        self.equipe.remove(self.poke_front)
                        print(f"Vous envoyez {self.poke_front.nom} !")
                        return

            elif action == '4': 
                print("Vous abandonnez...")
                self.run=False
                return
        
            else:
                print("Entrez un chiffre entre 1 et 4")
                action=None
                return

    def main(self):
        Injection5G = Objet("Injection5G", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,3)
        Glock = Objet("Glock", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,1)
        RouletteRusse = Objet("Roulette Russe", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,5)
        GamblingTime = Objet("Gambling Time", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,1)
        ProduitsDopants = Objet("Produits Dopants", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,3)
        Eau = Objet("Eau", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,3)
        CalmantsPourOurs = Objet("Calmants Pour Ours", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,2)
        ReposLong = Objet("Repos Long", self.equipe,self.robot.equipe_bot,self.poke_front,self.robot.poke_front_bot,4)
        self.objets = [Injection5G,Glock,RouletteRusse,GamblingTime,ProduitsDopants,Eau,CalmantsPourOurs,ReposLong]


        self.root.after(100, self.boucle_de_jeu)
        self.root.mainloop()
    def boucle_de_jeu(self):

        if self.robot.poke_front_bot is None or self.robot.poke_front_bot.pv <= 0:
            if self.robot.poke_front_bot:  
                print(f"{self.robot.poke_front_bot.nom} est K.O !")
                if self.robot.poke_front_bot in self.robot.equipe_bot:
                    self.robot.equipe_bot.remove(self.robot.poke_front_bot)
            
            self.robot.poke_front_bot = None  

            if self.robot.equipe_bot: 
                print("Le Pok√©mon adverse est K.O ! Le bot en envoie un autre.")
                self.robot.choix_pokemon_bot()
                self.update_gui()
                self.root.update()
            else:  
                print("Bravo, vous avez gagn√© (heureusement, c'est un bot)")
                self.root.quit()
                return
        if self.robot.poke_front_bot is None or self.robot.poke_front_bot.pv <= 0:
            print(f"{self.robot.poke_front_bot.nom} est K.O !")
            self.robot.poke_front_bot = None  

            if self.robot.equipe_bot:  
                print("Le Pok√©mon adverse est K.O ! Le bot en envoie un autre.")
                self.robot.choix_pokemon_bot()
            else:  
                print("Bravo, vous avez gagn√© (heureusement, c'est un bot)")
                self.root.quit()
                return
            
        self.tour()

        self.root.after(100, self.boucle_de_jeu)

# ajouter : proba,precision,prio,PP

#dans lordre :nom,type,statut,special,haut_crit,puissance,proba,precision,prio,PP,buff=None
Habanerage = Attaque("Habanerageüå±","Plante","Gel", False, False, 0, 100, 100, False, 24)
LanceFlamme = Attaque("LanceFlammeüî•","Feu", None, True, False, 90, 100, 100, False, 24)
Surchauffe = Attaque("Surchauffeüî•","Feu", None, True, False, 130, 100, 90, False, 5)
CanonGraine = Attaque("CanonGraineüå±","Plante", None, False, False, 80, 100, 100, False, 24)

Blizzard = Attaque("Blizzard‚ùÑÔ∏è","Glace", None, True, False, 110, 100, 70, False, 5)
Stalactite = Attaque("Stalactite‚ùÑÔ∏è","Glace", None, False, False, 25, 100, 100, False, 30)
DansePluie = Attaque("DansePluieüíß","Eau", "Pluie", True, False, 0, 100, 100, False, 5)
Destruction = Attaque("Destructionüîò","Normal", None, False, False, 200, 100, 100, False, 5)

Toxik=Attaque("Toxikü´ê","Poison","Poison", False, False, 0, 100, 100, False, 16)
Acidarmure = Attaque("Acidarmureü´ê","Poison", "Acidarmure", True, False, 0, 100, 100, False, 20,buff="defense")
Ouragan = Attaque("Ouraganü™∂","Vol", None, True, False, 40, 100, 100, False, 20)
DracoMeteore = Attaque("DracoMeteoreüê≤","Dragon", None, True, False, 130, 100, 90, False, 5)

Psyko = Attaque("Psykoüß†","Psy", None, True, False, 90, 100, 100, False, 10)
Machination = Attaque("Machinationüë§","T√©n√®bres", "Machination", True, False, 0, 100, 100, False, 20, buff="attspe")
DissonancePsy = Attaque("DissonancePsyüß†","Psy", None, True, False, 75, 100, 100, False, 10)
Gravite = Attaque("Graviteüß†","Psy", "Statut", True, False, 0, 100, 100, False, 5)

Elecanon = Attaque("Elecanon‚ö°","Electrique", None, True, False, 120, 100, 50, False, 20)
Telluriforce = Attaque("Telluriforceüü´","Sol", None, True, False, 90, 100, 100, False, 20)
MagnetControle = Attaque("MagnetControle‚ö°","Electrique", "MG", True, False, 0, 100, 100, False, 20 ,buff="defense+defspe")
CavalerieLourde = Attaque("Cavalerie Lourdeüê≤","Dragon", None, False, False, 90, 100, 100, False, 10)
EclairFou = Attaque("√âclair Fou‚ö°","Electrique", None, True, False, 80, 100, 100, False, 15)
Colere = Attaque("Col√®reüê≤","Dragon", None, False, False, 120, 100, 100, False, 10)
CageEclair = Attaque("Cage √âclair‚ö°","Electrique", None, False, False, 0, 100, 100, False, 20,buff="defense")

VoleForce = Attaque("Vole-Forceüå±","Plante", None, False, False, 90, 100, 100, False, 15)
OmbrePortee = Attaque("Ombre Port√©eüëª","Spectre", None, True, False, 80, 100, 100, False, 10)
Megafouet = Attaque("M√©gafouetüå±","Plante", None, False, False, 120, 100, 85, False, 10)
Malediction = Attaque("Mal√©dictionüëª","Spectre", "Mal√©diction", False, False, 0, 100, 100, False, 5)

Rapace = Attaque("Rapaceü´ê","Poison", None, False, False, 80, 100, 100, False, 15)
GigaImpact = Attaque("Giga Impactüîò","Normal", None, False, False, 150, 100, 90, False, 5)
VoixEnvoutante = Attaque("Voix Envo√ªtanteü¶ã","F√©e", None, True, False, 90, 100, 100, False, 10)
GazToxik = Attaque("Gaz Toxikü´ê","Poison", "Poison", False, False, 0, 100, 100, False, 10)

CriDraconique = Attaque("Cri Draconiqueüê≤","Dragon", None, True, False, 80, 100, 100, False, 10)
TempeteVerte = Attaque("Temp√™te Verteüå±","Plante", None, True, False, 90, 100, 100, False, 10)
Soin = Attaque("Soinüîò","Normal", None, False, False, 0, 100, 100, False, 5)
PsykoudBoul = Attaque("Psykoud'Boulüß†","Psy", None, False, False, 80, 100, 100, False, 10)
Interversion = Attaque("Interversionüß†","Psy", None, False, False, 0, 100, 100, False, 10)
ForceAjoutee = Attaque("Force Ajout√©eüå±","Plante", None, False, False, 80, 100, 100, False, 10)

Calinerie = Attaque("C√¢linerieü¶ã","F√©e", None, True, False, 70, 100, 100, False, 15)
ExploBrume = Attaque("Explo-Brumeü¶ã","F√©e", None, True, False, 90, 100, 100, False, 10)
VoixEnjoleuse = Attaque("Voix Enj√¥leuseü¶ã","F√©e", None, True, False, 80, 100, 100, False, 10)

Ultralaser = Attaque("Ultralaserüî©","Acier", None, True, False, 120, 100, 90, False, 5)
Luminocanon = Attaque("Luminocanonüî©","Acier", None, True, False, 90, 100, 100, False, 10)
MurDeFer = Attaque("Mur de Ferüî©","Acier", None, False, False, 0, 100, 100, False, 10,buff="defense")
Puissance = Attaque("Puissanceüî©","Acier", None, False, False, 100, 100, 100, False, 10)

NoeudHerbe = Attaque("N≈ìud Herbeüå±","Plante", None, False, False, 90, 100, 100, False, 10)
BlablaDodo = Attaque("Blabla Dodoüîò","Normal", "Comptine", False, False, 0, 100, 100, False, 15)
BombeBeurk = Attaque("Bombe Beurkü´ê","Poison", None, False, False, 90, 100, 100, False, 10)

Abime = Attaque("Ab√Æmeüî•","Feu", None, True, False, 90, 100, 1000, False, 10)
Surpuissance = Attaque("Surpuissanceü•ä","Combat", None, False, False, 120, 100, 100, False, 10)
CoudKrane = Attaque("Coud'Kr√¢neü•ä","Combat", None, False, False, 80, 100, 100, False, 15)
TacleFeu = Attaque("Tacle Feuüî•","Feu", None, False, False, 65, 100, 95, False, 20)

DernierRecours = Attaque("Dernier Recoursüîò","Normal", None, False, False, 140, 100, 100, False, 5)
VastePouvoir = Attaque("Vaste Pouvoirüîò","Normal", None, True, False, 120, 100, 90, False, 10)
Zenith = Attaque("Z√©nithüî•","Feu", "Z√©nith", True, False, 0, 100, 100, False, 5)

StridoSon = Attaque("Strido-Sonüî•","Feu", None, True, False, 70, 100, 100, False, 15)
Boutefeu = Attaque("Boutefeuüî•","Feu", None, True, False, 90, 100, 100, False, 10)
MurLumiere = Attaque("Mur Lumi√®reüîò","Normal", None, False, False, 0, 100, 100, False, 10,buff="defense")

Charge = Attaque("Chargeüîò", "Normal", None, False, False, 40, 100, 100, False, 25)
PoingGlace = Attaque("Poing-Glace‚ùÑÔ∏è","Glace",None, False, False, 65, 100, 100, False, 15)
TeteDeFer = Attaque("T√™te-De-Ferüî©", "Acier", None, False, False, 80, 100, 80, False, 15)
CarapacePsy = Attaque("Carapace Psyüß†","Psy", "MG", True, False, 0, 100, 100, False, 20 ,buff="defense+defspe")

CoupDBoule = Attaque("Coup d'Bouleüîò","Normal", None, False, False, 70, 100, 100, False, 15)
Armure = Attaque("Armureüîò","Normal", "MG", True, False, 0, 100, 100, False, 20 ,buff="defense+defspe")
Eboulement = Attaque("Eboulementüü´","Roche","Paralysie", False, False, 75, 100, 90, False, 15)
PistoletAO = Attaque("Pistolet √† Oüíß","Eau", None, False, False, 40, 100, 100, False, 25)

EspritFrappeur=Attaque("Esprit Frappeurüëª","Spectre",None,None,None,110,0,100,False,10)


Scovillain = Pokemon(
"Scovillain üî•üå±  ",
("Feu","Plante"),
65,
75,
("Acier","Electrique","F√©e"),
("Plante",),
(),
("Poison","Roche","Vol"),
(),
108,
65,
108,
65,
[Habanerage,LanceFlamme,Surchauffe,CanonGraine]
)



Sorbouboul = Pokemon(
"Sorbouboul ‚ùÑÔ∏è  ",
("Glace",),
71,
79,
("Glace",),
(),
(),
("Feu","Combat","Vol","Acier"),
(),
95,
85,
110,
95,
[Blizzard,Stalactite,DansePluie,Destruction]
)

Kravarech = Pokemon(
"Kravarech üê≤üíß  ",
("Dragon","Eau"),
65,
44,
("Feu","Eau","Electrique","Combat","Poison","Insecte"),
("Plante",),
(),
("Sol","Glace","Psy","Dragon"),
(),
75,
90,
97,
123,
[Toxik,Acidarmure,Ouragan,DracoMeteore]
)

Farigiraf  = Pokemon(
"Farigiraf üß†üîò  ",
("Psy","Normal"),
120,
60,
("Psy",),
(),
("Spectre",),
("T√©n√®bres","Psy"),
(),
90,
70,
110,
70,
[Psyko,Machination,DissonancePsy,Gravite]
)

PelageSabl√©  = Pokemon(
"Pelage-Sabl√© üü´‚ö°  ",
("Sol","Electrique"),
85,
101,
("Poison","Vol","Roche","Acier"),
(),
("Electrique",),
("Plante","Eau","Glace","Sol"),
(),
81,
97,
121,
85,
[Elecanon,Telluriforce,Gravite,MagnetControle]
)

Galvagon  = Pokemon(
"Galvagon üê≤‚ö°  ",
("Dragon","Electrique"),
90,
75,
("Plante","Vol","Feu","Acier","Eau"),
(),
(),
("Glace","Dragon","F√©e","Sol"),
(),
100,
90,
80,
70,
[CavalerieLourde,EclairFou,Colere,CageEclair]
)

Virevorreur  = Pokemon(
"Virevorreur üå±üëª  ",
("Plante","Spectre"),
55,
90,
("Plante","Electrique","Sol","Eau"),
(),
("Normal","Combat"),
("Glace","Feu","Spectre","T√©n√®bres","Vol"),
(),
115,
70,
80,
70,
[VoleForce,OmbrePortee,Megafouet,Malediction]
)

Pomdorochi  = Pokemon(
"Pomdorochi üê≤üå±  ",
("Dragon","Plante"),
106,
44,
("Sol",),
("Plante","Eau",'Electrique'),
(),
("Poison","Vol","Insecte","Dragon","F√©e"),
("Glace",),
80,
110,
120,
80,
[CriDraconique,TempeteVerte,Soin,DracoMeteore]
)

Sylveroy  = Pokemon(
"Sylveroy üß†üå±  ",
("Psy","Plante"),
100 ,
80,
("Plante","Eau","Electrique","Combat","Sol","Psy"),
(),
(),
("T√©n√®bres","Spectre","Feu","Vol","Glace","Poison"),
("Insecte",),
80,
80,
80,
80,
[PsykoudBoul,Interversion,ForceAjoutee,TempeteVerte]
)

Amovenus  = Pokemon(
"Amov√©nus ü¶ãü™∂  ",
("F√©e","Vol"),
74 ,
106,
("Plante","T√©n√®bres"),
("Insecte","Combat"),
("Combat","Sol"),
("Electrique","Glace","Poison","Roche","Acier"),
(),
115,
70,
135,
80,
[Calinerie,VoixEnvoutante,ExploBrume,VoixEnjoleuse]
)

Pondralugon  = Pokemon(
"Pondralugon üî©üê≤  ",
("Acier","Dragon"),
90 ,
85,
("Normal","Acier","Eau","Electrique","Vol","Psy","Insecte","Roche"),
("Plante",),
("Poison",),
("Combat","Sol"),
(),
105,
130,
125,
65,
[Ultralaser,Luminocanon,MurDeFer,Puissance]
)

Saquedeneu  = Pokemon(
"Saquedeneu üå±  ",
("Plante",),
65,
60,
("Plante","Eau","Electrique","Sol"),
(),
(),
("Feu","Glace","Poison","Vol","Insecte"),
(),
55,
115,
100,
40,
[Ultralaser,NoeudHerbe,BlablaDodo,BombeBeurk]
)

Chartor  = Pokemon(
"Chartor üî•  ",
("Feu",),
70,
20,
("Plante","Feu","Glace","Insecte","Acier","F√©e"),
(),
(),
("Eau","Sol","Roche"),
(),
85,
140,
85,
70,
[Abime,Surpuissance,CoudKrane,TacleFeu]
)

Pierroteknik  = Pokemon(
"Pierroteknik üî•üëª  ",
("Feu","Spectre"),
53,
107,
("Plante","Feu","Glace","Poison","Acier","F√©e"),
(),
("Normal","Combat"),
("Eau","Sol","Roche","Spectre","T√©n√®bres"),
(),
127,
53,
151,
79,
[Surchauffe,DernierRecours,VastePouvoir,Zenith]
)

MiteDeFer  = Pokemon(
"Mite-de-Fer üî•ü´ê  ",
("Feu","Poison"),
80,
110,
("Plante","Feu","Glace","Poison","Acier","F√©e"),
(),
("Normal","Combat"),
("Eau","Sol","Roche","Spectre","T√©n√®bres"),
(),
70,
60,
140,
110,
[StridoSon,Boutefeu,Toxik,MurLumiere]
)

Balbaleze = Pokemon(
    "Balbal√®ze ‚ùÑÔ∏è  ",
    ("Glace",),
    170,
    73,
    ("Glace",),
    (),
    ("Feu","Roche","Combat","Acier",),
    (),
    (),
    113,
    65,
    45,
    55,
    [Blizzard,Charge,Malediction,Ultralaser]
)

 

IreFoudre = Pokemon(
    "Ire-Foudre ‚ö°  ",
    ("Electrique",),
    125,
    73,
    ("Acier","Eau","Feu","Plante","Vol",),
    ("Electrique",),
    ("Dragon","F√©e","Glace","Sol",),
    (),
    (),
    91,
    137,
    89,
    75,
    [Zenith,DracoMeteore,CriDraconique,Ultralaser]
)

 

Bekaglacon = Pokemon(
    "B√©kagla√ßon ‚ùÑÔ∏è  ",
    ("Glace",),
    75,
    50,
    ("Glace",),
    (),
    ("Acier","Combat","Feu","Roche",),
    (),
    (),
    80,
    110,
    65,
    90,
    [Blizzard,Charge,PoingGlace,TeteDeFer]
)

 

Pechaminus = Pokemon(
    "P√©chaminus ü´êüëª  ",
    ("Poison","Spectre",),
    88,
    88,
    ("F√©e","Plante",),
    ("Poison"),
    ("Psy","Sol","Spectre","T√©n√®bres",),
    (),
    ("Normal","Combat",),
    88,
    160,
    88,
    88,
    [Machination,Toxik,CarapacePsy,GazToxik]
)
Tomberro = Pokemon(
    "Tomberro üëª  ",
    ("Spectre",),
    72,
    68,
    ("Insecte","Poison",),
    (),
    ("Spectre","T√©n√®bres"),
    (),
    ("Normal","Combat",),
    101,
    100,
    50,
    97,
    [CoupDBoule,Toxik,CarapacePsy,Calinerie]
)

 

Ferdeter = Pokemon(
    "FerDeTer üî©  ",
    ("Acier",),
    70,
    65,
    ("Acier","Dragon","F√©e","Glace","Insecte","Normal","Plante","Psy","Roche","Vol",),
    (),
    ("Combat","Feu","Sol",),
    (),
    ("Poison",),
    85,
    145,
    60,
    55,
    [Charge,Armure,TeteDeFer,Eboulement]
)

 

Hydragla = Pokemon(
    "Hydragla üíß  ",
    ("Eau",),
    90,
    55,
    ("Eau",),
    ("Glace",),
    ("Roche","Plante","Combat","Electrique",),
    (),
    (),
    90,
    100,
    80,
    90,
    [Blizzard,GigaImpact,CoupDBoule,PistoletAO]
)
 
Tut√©t√©kri=Pokemon(
    "Tut√©t√©kri üü´üëª  ",
    ("Sol","Spectre"),
    58,
    30,
    ("Insecte","Roche",),
    ("Poison",),
    ("Plante","Spectre","T√©n√®bre","Eau","Glace",),
    (),
    ("Electrique","Combat","Normal",),
    95,
    145,
    50,
    105,
    [Malediction,Ultralaser,PsykoudBoul,EspritFrappeur]
)


running=True
while running==True :
    choix=input("voulez vous : 1) Jouer  2) Quitter")

    if choix=='1' :
        pokemons_dispo = [
        Scovillain, Sorbouboul, Kravarech, Farigiraf, PelageSabl√©,
        Galvagon, Virevorreur, Pomdorochi, Sylveroy,
        Amovenus, Pondralugon, Saquedeneu, Chartor, Pierroteknik, MiteDeFer,
        Hydragla,Ferdeter,Tomberro ,Pechaminus ,Bekaglacon ,IreFoudre ,Balbaleze ,Tut√©t√©kri
        ]   
        main=Battle(pokemons_dispo)
        main.cree_equipe(pokemons_dispo)
        main.choix_pokemon()
        main.main()
    elif choix=='2' :
        une_derniere=input("Une derni√®re partie ?   1) Oui   2) Non")
        if une_derniere!='1':
            running=False
    else:
        print("Bien essay√©")

